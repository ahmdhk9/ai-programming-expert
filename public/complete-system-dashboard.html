<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ¯ Complete Integrated System Dashboard</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
      color: #00d4ff;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      padding: 20px;
      min-height: 100vh;
    }
    .container { max-width: 1600px; margin: 0 auto; }
    h1 { text-align: center; margin: 20px 0; font-size: 32px; }
    .header {
      background: linear-gradient(135deg, rgba(76, 222, 128, 0.2), rgba(0, 212, 255, 0.2));
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 20px;
      border: 2px solid #4ade80;
      text-align: center;
    }
    .status-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      margin: 20px 0;
    }
    .status-item {
      background: #1a1f2e;
      border: 1px solid #4ade8030;
      border-radius: 8px;
      padding: 12px;
      text-align: center;
      transition: all 0.3s;
    }
    .status-item:hover { border-color: #4ade80; }
    .status-value { font-size: 24px; font-weight: bold; color: #4ade80; }
    .status-label { font-size: 10px; color: #888; margin-top: 5px; }
    .systems-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    .system-card {
      background: #1a1f2e;
      border: 1px solid #4ade8030;
      border-radius: 10px;
      padding: 15px;
      transition: all 0.3s;
    }
    .system-card:hover { border-color: #4ade80; box-shadow: 0 0 15px rgba(74, 222, 128, 0.2); }
    .system-title { color: #4ade80; font-weight: bold; margin-bottom: 10px; }
    .system-status { display: flex; justify-content: space-between; margin: 5px 0; font-size: 12px; }
    .controls { text-align: center; margin: 20px 0; }
    button {
      background: #4ade80;
      color: #0f1419;
      border: none;
      padding: 10px 15px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      margin: 5px;
      transition: all 0.3s;
    }
    button:hover { background: #22c55e; transform: translateY(-2px); }
    .stats-section { background: #1a1f2e; border: 1px solid #4ade8030; border-radius: 10px; padding: 20px; margin: 20px 0; }
    .stat-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #4ade8010; }
    .stat-label { color: #888; }
    .stat-value { color: #4ade80; font-weight: bold; }
    .active { color: #4ade80; }
    .inactive { color: #666; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¯ Complete Integrated System Dashboard</h1>
    
    <div class="header">
      <div>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</div>
      <small style="color: #888;">8 Ø£Ù†Ø¸Ù…Ø© Ù…Ø¯Ù…ÙˆØ¬Ø© ØªØ¹Ù…Ù„ Ù…Ø¹Ø§Ù‹ Ø¨ØªÙ†Ø§ØºÙ…</small>
    </div>

    <div class="controls">
      <button onclick="refreshAll()">ğŸ”„ ØªØ­Ø¯ÙŠØ« ÙÙˆØ±ÙŠ</button>
      <button onclick="systemsStatus()">ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ù†Ø¸Ù…Ø©</button>
      <button onclick="exportFullReport()">ğŸ“¥ ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
    </div>

    <div class="status-grid" id="quick-stats"></div>

    <div class="systems-grid" id="systems-overview"></div>

    <div class="stats-section">
      <h2 style="color: #4ade80; margin-bottom: 15px;">ğŸ“ˆ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…ÙˆØ­Ø¯Ø©</h2>
      <div id="detailed-stats"></div>
    </div>

    <div class="stats-section">
      <h2 style="color: #4ade80; margin-bottom: 15px;">ğŸš€ Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø± ÙˆØ§Ù„Ø¬Ø§Ù‡Ø²ÙŠØ©</h2>
      <div id="deployment-status"></div>
    </div>
  </div>

  <script>
    async function refreshAll() {
      if (!window.unifiedMonitor) {
        setTimeout(refreshAll, 500);
        return;
      }

      const report = window.unifiedMonitor.getUnifiedReport();
      const detailed = window.unifiedMonitor.getDetailedReport();

      // Update quick stats
      const quickStats = document.getElementById('quick-stats');
      quickStats.innerHTML = `
        <div class="status-item">
          <div class="status-value">${report.totalIssues}</div>
          <div class="status-label">Ø§Ù„Ù…Ø´Ø§ÙƒÙ„</div>
        </div>
        <div class="status-item">
          <div class="status-value">${report.autoRepair.fixed}</div>
          <div class="status-label">ØªÙ… Ø¥ØµÙ„Ø§Ø­Ù‡</div>
        </div>
        <div class="status-item">
          <div class="status-value">${Math.round(report.efficiency.fixedPercentage)}%</div>
          <div class="status-label">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­</div>
        </div>
        <div class="status-item">
          <div class="status-value">${Object.values(report.monitors).filter(m => m === 'active').length}/8</div>
          <div class="status-label">Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ù†Ø´Ø·Ø©</div>
        </div>
      `;

      // Update systems overview
      const systemsOverview = document.getElementById('systems-overview');
      systemsOverview.innerHTML = `
        <div class="system-card">
          <div class="system-title">ğŸ” Ù…Ø±Ø§Ù‚Ø¨ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡</div>
          <div class="system-status">
            <span>Ø§Ù„Ø­Ø§Ù„Ø©</span>
            <span class="${report.monitors.errorLogger === 'active' ? 'active' : 'inactive'}">
              ${report.monitors.errorLogger}
            </span>
          </div>
        </div>
        <div class="system-card">
          <div class="system-title">ğŸ”¥ Ù…Ø±Ø§Ù‚Ø¨ Ø´Ø§Ù…Ù„</div>
          <div class="system-status">
            <span>Ø§Ù„Ø­Ø§Ù„Ø©</span>
            <span class="${report.monitors.advancedMonitor === 'active' ? 'active' : 'inactive'}">
              ${report.monitors.advancedMonitor}
            </span>
          </div>
        </div>
        <div class="system-card">
          <div class="system-title">ğŸ¤– ØªØ´Ø®ÙŠØµ Ø°ÙƒÙŠ</div>
          <div class="system-status">
            <span>Ø§Ù„Ø­Ø§Ù„Ø©</span>
            <span class="${report.monitors.aiDiagnostics === 'active' ? 'active' : 'inactive'}">
              ${report.monitors.aiDiagnostics}
            </span>
          </div>
        </div>
        <div class="system-card">
          <div class="system-title">ğŸ”¥ Ù…Ø±Ø§Ù‚Ø¨ Ù‡Ø¬ÙŠÙ†</div>
          <div class="system-status">
            <span>Ø§Ù„Ø­Ø§Ù„Ø©</span>
            <span class="${report.monitors.hybridMonitor === 'active' ? 'active' : 'inactive'}">
              ${report.monitors.hybridMonitor}
            </span>
          </div>
        </div>
        <div class="system-card">
          <div class="system-title">ğŸ”§ Ø¥ØµÙ„Ø§Ø­ Ø°Ø§ØªÙŠ</div>
          <div class="system-status">
            <span>Ø§Ù„Ø­Ø§Ù„Ø©</span>
            <span class="${report.monitors.autoRepair === 'active' ? 'active' : 'inactive'}">
              ${report.monitors.autoRepair}
            </span>
          </div>
        </div>
        <div class="system-card">
          <div class="system-title">ğŸ¯ Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆØ¯</div>
          <div class="system-status">
            <span>Ø§Ù„Ø­Ø§Ù„Ø©</span>
            <span class="${report.monitors.codeQuality === 'active' ? 'active' : 'inactive'}">
              ${report.monitors.codeQuality}
            </span>
          </div>
        </div>
        <div class="system-card">
          <div class="system-title">ğŸš€ Ù…Ø±Ø§Ù‚Ø¨ Ø§Ù„Ù†Ø´Ø±</div>
          <div class="system-status">
            <span>Ø§Ù„Ø­Ø§Ù„Ø©</span>
            <span class="${report.monitors.deploymentMonitor === 'active' ? 'active' : 'inactive'}">
              ${report.monitors.deploymentMonitor}
            </span>
          </div>
        </div>
        <div class="system-card">
          <div class="system-title">ğŸ› ï¸ Ù…ØµØ­Ø­ Ø§Ù„Ù†Ø´Ø±</div>
          <div class="system-status">
            <span>Ø§Ù„Ø­Ø§Ù„Ø©</span>
            <span class="${report.monitors.deploymentFixer === 'active' ? 'active' : 'inactive'}">
              ${report.monitors.deploymentFixer}
            </span>
          </div>
        </div>
      `;

      // Update detailed stats
      const detailedStats = document.getElementById('detailed-stats');
      detailedStats.innerHTML = `
        <div class="stat-row">
          <span class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„</span>
          <span class="stat-value">${report.totalIssues}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…ØªÙˆÙØ±Ø©</span>
          <span class="stat-value">${report.solutions}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„Ù†Ø§Ø¬Ø­Ø©</span>
          <span class="stat-value">${report.autoRepair.fixed}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©</span>
          <span class="stat-value">${report.autoRepair.pending}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­</span>
          <span class="stat-value">${Math.round(report.efficiency.fixedPercentage)}%</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ù†Ø´Ø·Ø©</span>
          <span class="stat-value">${Object.values(report.monitors).filter(m => m === 'active').length}/8</span>
        </div>
      `;

      // Update deployment status
      const deploymentStatus = document.getElementById('deployment-status');
      deploymentStatus.innerHTML = `
        <div class="stat-row">
          <span class="stat-label">Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø±</span>
          <span class="stat-value">${report.deployment.status}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù†Ø´Ø±</span>
          <span class="stat-value">${report.deployment.totalIssues}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„Ù†Ø´Ø±</span>
          <span class="stat-value">${report.deployment.readyToDeploy ? 'âœ… Ø¬Ø§Ù‡Ø²' : 'âš ï¸ ÙŠØ­ØªØ§Ø¬ ÙØ­Øµ'}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</span>
          <span class="stat-value">
            ${report.systemHealth.deploymentHealthy ? 'âœ… Ø³Ù„ÙŠÙ…Ø©' : 'âš ï¸ ØªØ­ØªØ§Ø¬ ÙØ­Øµ'}
          </span>
        </div>
      `;
    }

    function systemsStatus() {
      const report = window.unifiedMonitor?.getUnifiedReport?.();
      if (!report) return;
      alert(`ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ù†Ø¸Ù…Ø©:\n\nØ§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ù†Ø´Ø·Ø©: ${Object.values(report.monitors).filter(m => m === 'active').length}/8\n\nØ¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„: ${report.totalIssues}\nØªÙ… Ø¥ØµÙ„Ø§Ø­Ù‡: ${report.autoRepair.fixed}\nÙ…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­: ${Math.round(report.efficiency.fixedPercentage)}%`);
    }

    function exportFullReport() {
      const report = window.unifiedMonitor?.getDetailedReport?.();
      if (!report) return;
      
      const json = JSON.stringify(report, null, 2);
      const blob = new Blob([json], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `complete-system-report-${new Date().toISOString()}.json`;
      a.click();
    }

    refreshAll();
    setInterval(refreshAll, 2000);
  </script>
</body>
</html>
