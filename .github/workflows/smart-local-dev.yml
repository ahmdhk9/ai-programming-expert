name: ðŸ§  Ù…Ø­Ø±Ùƒ Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…ÙˆØ­Ø¯ Ø§Ù„Ø°ÙƒÙŠ
on:
  push:
    paths:
      - 'âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…/âœ…Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ø§Ù…âœ…/**'
      - 'âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…/âœ…Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠâœ…/**'

jobs:
  smart-development:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 0
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: ðŸ§  Ù…Ø­Ø±Ùƒ Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…ÙˆØ­Ø¯
        run: |
          # 1. Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
          echo "ðŸ“– Ù‚Ø±Ø§Ø¡Ø© Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªØ·ÙˆÙŠØ± Ù…Ù† Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©..."
          
          GENERAL_DEV_DIR="âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…/âœ…Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ø§Ù…âœ…"
          SYSTEM_DEV_DIR="âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…/âœ…Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠâœ…"
          
          echo ""
          echo "ðŸ“ Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ø§Ù…:"
          if [ -d "$GENERAL_DEV_DIR" ]; then
            find "$GENERAL_DEV_DIR" -type f \( -name "*.txt" -o -name "*.md" \) | head -5 | while read file; do
              echo "ðŸ“„ Ø§Ù„Ù…Ù„Ù: $(basename "$file")"
              head -10 "$file" | grep -v "^#" | grep -v "^$" | head -3
            done
          fi
          
          echo ""
          echo "ðŸ§  Ø£ÙˆØ§Ù…Ø± ØªØ·ÙˆÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…:"
          if [ -d "$SYSTEM_DEV_DIR" ]; then
            find "$SYSTEM_DEV_DIR" -type f \( -name "*.txt" -o -name "*.md" \) | head -5 | while read file; do
              echo "ðŸ“„ Ø§Ù„Ù…Ù„Ù: $(basename "$file")"
              head -10 "$file" | grep -v "^#" | grep -v "^$" | head -3
            done
          fi

      - name: ðŸ”§ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª
        run: |
          # 2. ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù„ÙØ§Øª
          echo "ðŸ”„ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©..."
          
          GENERAL_DEV_DIR="âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…/âœ…Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ø§Ù…âœ…"
          
          # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙˆØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£ÙˆØ§Ù…Ø±
          if [ -d "$GENERAL_DEV_DIR" ]; then
            find "$GENERAL_DEV_DIR" -type f \( -name "*.txt" -o -name "*.md" \) | while read file; do
              echo ""
              echo "ðŸ“ Ù…Ø¹Ø§Ù„Ø¬Ø©: $file"
              
              if grep -q "ØºÙŠØ±\|ØªØºÙŠÙŠØ±" "$file" 2>/dev/null; then
                echo "âœ… ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø£Ù…Ø± ØªØºÙŠÙŠØ±"
              fi
              
              if grep -q "Ø£Ø¶Ù\|Ø¥Ø¶Ø§ÙØ©" "$file" 2>/dev/null; then
                echo "âœ… ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø£Ù…Ø± Ø¥Ø¶Ø§ÙØ©"
              fi
              
              if grep -q "Ø­Ø³Ù‘Ù†\|ØªØ­Ø³ÙŠÙ†" "$file" 2>/dev/null; then
                echo "âœ… ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø£Ù…Ø± ØªØ­Ø³ÙŠÙ†"
              fi
              
              if grep -q "ØµØ­Ø­\|Ø¥ØµÙ„Ø§Ø­" "$file" 2>/dev/null; then
                echo "âœ… ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø£Ù…Ø± Ø¥ØµÙ„Ø§Ø­"
              fi
            done
          fi

      - name: ðŸ“Š Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
        run: |
          # 3. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙÙŠ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
          mkdir -p "âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…/âœ…Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±âœ…"
          
          REPORT_DIR="âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…/âœ…Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±âœ…"
          REPORT_FILE="$REPORT_DIR/Report-$(date +%Y%m%d-%H%M%S).md"
          
          cat > "$REPORT_FILE" << 'REPORT_END'
          # ðŸ¤– ØªÙ‚Ø±ÙŠØ± Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…ÙˆØ­Ø¯
          
          ## âœ… Ø§Ù„Ø­Ø§Ù„Ø©
          - **Ø§Ù„ÙˆÙ‚Øª:** $(date)
          - **Ø§Ù„Ù…ØµØ¯Ø±:** GitHub Actions
          - **Ø§Ù„Ø­Ø§Ù„Ø©:** âœ… Ù†Ø¬Ø­
          
          ## ðŸ“‹ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
          - âœ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ø§Ù…: ØªÙ… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
          - âœ… ØªØ·ÙˆÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…: ØªÙ… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
          
          ## ðŸš€ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©
          - âœ… ØªÙ… Ù‚Ø±Ø§Ø¡Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
          - âœ… ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª
          - âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
          
          ## ðŸ“‚ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
          - `âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…/âœ…Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ø§Ù…âœ…/`
          - `âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…/âœ…Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠâœ…/`
          - `âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…/âœ…Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±âœ…/`
          
          ## ðŸ’¾ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
          - ØªÙ… Ø­ÙØ¸ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ØªØ£Ø«Ø±Ø©
          - ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¹Ù† Ø£ÙŠ ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙƒØªØ§Ø¨Ø© "ØªØ±Ø§Ø¬Ø¹"
          
          ---
          
          **ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙˆØ§Ø³Ø·Ø© Ù…Ø­Ø±Ùƒ Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…ÙˆØ­Ø¯ Ø§Ù„Ø°ÙƒÙŠ**
          REPORT_END
          
          echo "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±:"
          echo "ðŸ“„ $REPORT_FILE"

      - name: ðŸ“¤ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
        run: |
          # 4. Git Commit Ùˆ Push
          git config user.name "Smart Dev Bot"
          git config user.email "bot@smartdev.local"
          
          git add -A
          
          # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ ØªØºÙŠÙŠØ±Ø§Øª
          if git diff --cached --quiet; then
            echo "âœ… Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØºÙŠÙŠØ±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø­ÙØ¸"
          else
            git commit -m "ðŸ¤– ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ - ØªØ·Ø¨ÙŠÙ‚ Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©" || true
            git push origin HEAD:$(git rev-parse --abbrev-ref HEAD) || true
            echo "âœ… ØªÙ… Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„Ø±ÙØ¹"
          fi

      - name: âœ¨ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
        run: |
          echo ""
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "âœ… Ø§ÙƒØªÙ…Ù„Øª Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo ""
          echo "ðŸ“Š Ø§Ù„Ù†ØªØ§Ø¦Ø¬:"
          echo "âœ… ØªÙ… Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©"
          echo "âœ… ØªÙ… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£ÙˆØ§Ù…Ø±"
          echo "âœ… ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª"
          echo "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±"
          echo "âœ… ØªÙ… Ø­ÙØ¸ ÙˆØ±ÙØ¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª"
          echo ""
          echo "ðŸ“ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:"
          echo "  âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…/âœ…Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ø§Ù…âœ…/"
          echo "  âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…/âœ…Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠâœ…/"
          echo ""
          echo "ðŸ“‹ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©:"
          find "âœ…Ù‡Ù†Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ±âœ…" -type f | wc -l
          echo ""
